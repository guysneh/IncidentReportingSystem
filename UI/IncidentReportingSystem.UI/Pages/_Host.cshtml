@page "/"
@namespace IncidentReportingSystem.UI.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using System.Globalization
@{
    var ci = CultureInfo.CurrentUICulture;
    var isRtl = ci.TextInfo.IsRightToLeft;
    var lang = ci.TwoLetterISOLanguageName;
    var bootstrapHref = isRtl
        ? "lib/bootstrap/dist/css/bootstrap.rtl.min.css"
        : "lib/bootstrap/dist/css/bootstrap.min.css";
}
<!DOCTYPE html>
<html lang="@lang" dir="@(isRtl ? "rtl" : "ltr")">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Load both, enable only the right one -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous">

    <!-- CRITICAL: ensures relative static paths resolve correctly when hosted under subpaths -->
    <base href="~/" />

    <title>Incident Reporting</title>

    <!-- Your CSS must come AFTER Bootstrap -->
    <link rel="stylesheet" href="~/lib/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/app.css" asp-append-version="true" />

    <!-- Favicon (avoid 404 on /favicon.ico) -->
    <link rel="icon" type="image/svg+xml" href="~/favicon.svg" />
    <script>
        (function () {
          var dir = (document.documentElement.getAttribute('dir') || 'ltr').toLowerCase();
          var ltr = document.getElementById('bs-ltr');
          var rtl = document.getElementById('bs-rtl');
          if (!ltr || !rtl) return;

          if (dir === 'rtl') {
            rtl.disabled = false; ltr.disabled = true;
            document.documentElement.classList.add('rtl');
            document.documentElement.classList.remove('ltr');
          } else {
            ltr.disabled = false; rtl.disabled = true;
            document.documentElement.classList.add('ltr');
            document.documentElement.classList.remove('rtl');
          }

          window.irsCss = {
            apply: function (d) {
              var isRtl = (d || document.documentElement.dir || 'ltr').toLowerCase() === 'rtl';
              ltr.disabled = isRtl; rtl.disabled = !isRtl;
              document.documentElement.classList.toggle('rtl', isRtl);
              document.documentElement.classList.toggle('ltr', !isRtl);
            }
          };
        })();
    </script>
</head>
<body>
    <app>
        <component type="typeof(App)" render-mode="Server" />
    </app>

    <!-- Blazor Server bootstrap -->
    <script src="/lib/js/culture.js"></script>
    <script src="/lib/js/dir.js"></script>
    <script src="/lib/js/theme.js"></script>
    <script src="/lib/js/rtl.js"></script>
    <script src="/lib/js/auth.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    <script src="/_framework/blazor.server.js"></script>
</body>
</html>
