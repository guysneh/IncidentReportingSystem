@inject NavigationManager Nav

<div class="segmented">
    <a class="seg @Active("en")" href="@Href("en")">EN</a>
    <a class="seg @Active("de")" href="@Href("de")">DE</a>
    <a class="seg @Active("he")" href="@Href("he")">עב</a>
</div>

@code {
    string Active(string c) =>
        Thread.CurrentThread.CurrentUICulture.TwoLetterISOLanguageName == c ? "active" : "";

    string Href(string c)
    {
        var baseUri = Nav.BaseUri.TrimEnd('/');
        var back = Uri.EscapeDataString(Nav.Uri);
        return $"{baseUri}/localize?c={Uri.EscapeDataString(c)}&r={back}";
    }
}
